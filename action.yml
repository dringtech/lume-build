name: 'Lume Build'
description: 'Build a site using the Lume static site generator'
# inputs:
#   who-to-greet:  # id of input
#     description: 'Who to greet'
#     required: true
#     default: 'World'
# outputs:
#   random-number:
#     description: "Random number"
#     value: ${{ steps.random-number-generator.outputs.random-number }}
runs:
  using: "composite"
  steps:
      - name: Clone repository
        uses: actions/checkout@v3
      - name: Setup Deno environment
        uses: denoland/setup-deno@v1
        with:
          deno-version: v1.x
      - name: Build site
        run: |
          echo "import 'lume/cli.ts'" | deno run --unstable -A - --dest _site
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v1
        with:
          path: _site